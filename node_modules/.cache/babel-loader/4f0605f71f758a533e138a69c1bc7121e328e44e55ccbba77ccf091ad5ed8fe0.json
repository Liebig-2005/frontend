{"ast":null,"code":"// API Configuration\n// This file handles dynamic API URL configuration for different environments\n\n// Get API base URL from environment variable or use default\n// In production, set REACT_APP_API_URL environment variable\n// For development, it defaults to localhost:8000\nconst getApiBaseUrl = () => {\n  // Check if we're in production (built app)\n  if (process.env.NODE_ENV === 'production') {\n    // In production, use environment variable or relative URL\n    // If REACT_APP_API_URL is set, use it\n    if (process.env.REACT_APP_API_URL) {\n      return process.env.REACT_APP_API_URL;\n    }\n    // Otherwise, use relative URL (same origin)\n    // This works when frontend and backend are on the same domain\n    return '';\n  }\n\n  // In development, use localhost or environment variable\n  return process.env.REACT_APP_API_URL || 'http://localhost:8000';\n};\n\n// Export the API base URL\nexport const API_BASE_URL = getApiBaseUrl();\n\n// Helper function to build full API endpoint URLs\nexport const getApiUrl = endpoint => {\n  // Remove leading slash if present to avoid double slashes\n  const cleanEndpoint = endpoint.startsWith('/') ? endpoint.slice(1) : endpoint;\n\n  // If API_BASE_URL is empty (production, same origin), use relative path\n  if (!API_BASE_URL) {\n    return `/api/${cleanEndpoint}`;\n  }\n\n  // Otherwise, combine base URL with endpoint\n  return `${API_BASE_URL}/api/${cleanEndpoint}`;\n};\n\n// Export specific API endpoints\nexport const API_ENDPOINTS = {\n  CHATBOT: getApiUrl('chatbot/'),\n  SCANNER: getApiUrl('scanner/')\n};\nexport default {\n  API_BASE_URL,\n  getApiUrl,\n  API_ENDPOINTS\n};","map":{"version":3,"names":["getApiBaseUrl","process","env","NODE_ENV","REACT_APP_API_URL","API_BASE_URL","getApiUrl","endpoint","cleanEndpoint","startsWith","slice","API_ENDPOINTS","CHATBOT","SCANNER"],"sources":["C:/hackathon/qweqwe/frontend/src/config/api.js"],"sourcesContent":["// API Configuration\r\n// This file handles dynamic API URL configuration for different environments\r\n\r\n// Get API base URL from environment variable or use default\r\n// In production, set REACT_APP_API_URL environment variable\r\n// For development, it defaults to localhost:8000\r\nconst getApiBaseUrl = () => {\r\n  // Check if we're in production (built app)\r\n  if (process.env.NODE_ENV === 'production') {\r\n    // In production, use environment variable or relative URL\r\n    // If REACT_APP_API_URL is set, use it\r\n    if (process.env.REACT_APP_API_URL) {\r\n      return process.env.REACT_APP_API_URL;\r\n    }\r\n    // Otherwise, use relative URL (same origin)\r\n    // This works when frontend and backend are on the same domain\r\n    return '';\r\n  }\r\n  \r\n  // In development, use localhost or environment variable\r\n  return process.env.REACT_APP_API_URL || 'http://localhost:8000';\r\n};\r\n\r\n// Export the API base URL\r\nexport const API_BASE_URL = getApiBaseUrl();\r\n\r\n// Helper function to build full API endpoint URLs\r\nexport const getApiUrl = (endpoint) => {\r\n  // Remove leading slash if present to avoid double slashes\r\n  const cleanEndpoint = endpoint.startsWith('/') ? endpoint.slice(1) : endpoint;\r\n  \r\n  // If API_BASE_URL is empty (production, same origin), use relative path\r\n  if (!API_BASE_URL) {\r\n    return `/api/${cleanEndpoint}`;\r\n  }\r\n  \r\n  // Otherwise, combine base URL with endpoint\r\n  return `${API_BASE_URL}/api/${cleanEndpoint}`;\r\n};\r\n\r\n// Export specific API endpoints\r\nexport const API_ENDPOINTS = {\r\n  CHATBOT: getApiUrl('chatbot/'),\r\n  SCANNER: getApiUrl('scanner/'),\r\n};\r\n\r\nexport default {\r\n  API_BASE_URL,\r\n  getApiUrl,\r\n  API_ENDPOINTS,\r\n};\r\n\r\n"],"mappings":"AAAA;AACA;;AAEA;AACA;AACA;AACA,MAAMA,aAAa,GAAGA,CAAA,KAAM;EAC1B;EACA,IAAIC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,EAAE;IACzC;IACA;IACA,IAAIF,OAAO,CAACC,GAAG,CAACE,iBAAiB,EAAE;MACjC,OAAOH,OAAO,CAACC,GAAG,CAACE,iBAAiB;IACtC;IACA;IACA;IACA,OAAO,EAAE;EACX;;EAEA;EACA,OAAOH,OAAO,CAACC,GAAG,CAACE,iBAAiB,IAAI,uBAAuB;AACjE,CAAC;;AAED;AACA,OAAO,MAAMC,YAAY,GAAGL,aAAa,CAAC,CAAC;;AAE3C;AACA,OAAO,MAAMM,SAAS,GAAIC,QAAQ,IAAK;EACrC;EACA,MAAMC,aAAa,GAAGD,QAAQ,CAACE,UAAU,CAAC,GAAG,CAAC,GAAGF,QAAQ,CAACG,KAAK,CAAC,CAAC,CAAC,GAAGH,QAAQ;;EAE7E;EACA,IAAI,CAACF,YAAY,EAAE;IACjB,OAAO,QAAQG,aAAa,EAAE;EAChC;;EAEA;EACA,OAAO,GAAGH,YAAY,QAAQG,aAAa,EAAE;AAC/C,CAAC;;AAED;AACA,OAAO,MAAMG,aAAa,GAAG;EAC3BC,OAAO,EAAEN,SAAS,CAAC,UAAU,CAAC;EAC9BO,OAAO,EAAEP,SAAS,CAAC,UAAU;AAC/B,CAAC;AAED,eAAe;EACbD,YAAY;EACZC,SAAS;EACTK;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}